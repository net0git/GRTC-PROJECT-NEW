<div class="row ">
    <div class="col-lg-2 mx-auto menu-filtro-medida">
        <div class="m-4">
            <label for="">EMPRESA SERVICIO</label>
            <div class="mx-2">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked>
                    <label class="form-check-label" for="flexCheckDefault">
                        Razon Social
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Ruc
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Departamento
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Provincia
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Distrito
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Representante
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        fecha inicio
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        fecha final
                    </label>
                </div>
            </div>

        </div>
        <div class="m-4">
            <label for="">TIPO SERVICIO</label>
            <div class="mx-2">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked>
                    <label class="form-check-label" for="flexCheckDefault">
                        Tras. Personas
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Tras. Turistico
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Tras. Estudiantes
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Tras. Trabajadores
                    </label>
                </div>
            </div>

        </div>
        <div class="m-4">
            <label for="">ESTADO</label>
            <div class="mx-2 ">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked>
                    <label class="form-check-label" for="flexCheckDefault">
                        Activo
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Alerta
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Inactivo
                    </label>
                </div>

            </div>

        </div>
        <div class="m-4">
            <label for="">VEHICULO</label>
            <div class="mx-2 ">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault" checked>
                    <label class="form-check-label" for="flexCheckDefault">
                        Placa
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Marca
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Modelo
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Categoria
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        A침o
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Peso
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Carga
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        Fecha habilitaci칩n
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked">
                    <label class="form-check-label" for="flexCheckChecked">
                        fecha finalizaci칩n
                    </label>
                </div>
            </div>

        </div>

        <button class="btn btn-success btn-sm m-4">filtrar</button>
        <div class="popover-container">
            <button class="popover-btn">Popover on bottom</button>
            <div class="popover-content">
                <p>Este es el contenido del popover que aparece en la parte inferior del bot칩n.</p>
            </div>
        </div>
    </div>

    <div class="col-lg-10 pt-4">
        <div class="d-flex justify-content-start">
            <button class="btn btn-success mb-2" (click)="ExporToExcel()"><i class="bi bi-file-earmark-excel-fill"></i>
                Descargar</button>
            <div class="popover-container">
                <!-- Usamos un input tipo checkbox para alternar el popover -->
                <input type="checkbox" id="popover-toggle" class="popover-toggle">
                <label for="popover-toggle" class="popover-btn">Popover on bottom</label>
                <div class="popover-content">
                    <p>Este es el contenido del popover que aparece al hacer clic.</p>
                </div>
            </div>

            <pagination-controls [id]="'allReport'" (pageChange)="paginaActual = $event" previousLabel="Anterior"
                nextLabel="Siguiente">
            </pagination-controls>
        </div>

        <div class="table-responsive" style="overflow-x: auto; white-space: nowrap;">
            <table class="table text-center table-hover" id="excel-table">
                <thead class="thead-light bg-secondary text-white table-success">
                    <tr>
                        <th scope="col">Nro</th>
                        <th scope="col">EXP</th>
                        <th scope="col">EMPRESA</th>
                        <th scope="col">RUC</th>
                        <th scope="col">TIPO DE TRANSPORTE</th>
                        <th scope="col">FECH_INICIO</th>
                        <th scope="col">FECH_FINAL</th>
                        <th scope="col">ESTADO</th>
                        <th scope="col">VEHICULOS</th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let empresa of listaEmpresasServicio | paginate: { itemsPerPage: 10, currentPage: paginaActual, id:'allReport' }; let i = index"
                        class="table-barra " title="Click para ver detalle empresa">
                        <th scope="row">{{ i + (paginaActual - 1) * 10 + 1 }}</th>
                        <td>{{ empresa.expediente }}</td>
                        <td class="text-start">{{ empresa.empresa }}</td>
                        <td>{{ empresa.ruc }}</td>
                        <td>{{ empresa.tipo_servicio }}</td>
                        <td>{{ empresa.fecha_inicial | date:'dd/MM/yyyy' }}</td>
                        <td>{{ empresa.fecha_final | date:'dd/MM/yyyy' }}</td>
                        <td>{{ empresa.estado }}</td>

                        <td>
                            <div class="table-responsive" style="overflow-x: auto; white-space: nowrap;">
                                <table class="table table-bordered table-striped">
                                    <thead class="thead-light bg-secondary text-white table-success">
                                        <tr>
                                            <th>Placa</th>
                                            <th>Modelo</th>
                                            <th>Marca</th>
                                            <th>Fecha Inicio</th>
                                            <th>Fecha Final</th>
                                        </tr>
                                    </thead>

                                    <tr
                                        *ngFor="let vehiculo of obtenerVehiculosPorEmpresa(empresa.id_empresa_servicio)">
                                        <td>{{ vehiculo.placa }}</td>
                                        <td>{{ vehiculo.modelo }}</td>
                                        <td>{{ vehiculo.marca }}</td>
                                        <td>{{ vehiculo.fecha_inicial | date: 'dd/MM/yyyy' }}</td>
                                        <td>{{ vehiculo.fecha_final | date: 'dd/MM/yyyy' }}</td>
                                    </tr>
                                </table>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>